<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet"  href="home.css">
    <link rel="stylesheet"  href="links.css">
    

    <link href="https://fonts.googleapis.com/css2?family=Satisfy&display=swap" rel="stylesheet">
   




    
    <title>Reviews</title>
     <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

  <style>


.reviews-section {
  padding: 50px;
  background-color: #f9f9f9;
 

}
.menu-toggle{
  margin-bottom: 15px;
}
.modal {
  display: none;
  position: fixed;
  z-index: 9999; /* keep it on top */
  left: 0; top: 0;
  width: 100%; height: 100%;
  background-color: rgba(0,0,0,0.5);
  justify-content: center;
  align-items: center;
}

.rating-summary {
  font-size: 20px;
  margin-bottom: 20px;
}

.carousel-wrapper {
  position: relative;
  overflow: visible; /* allow content to expand so review cards aren't cropped */
  max-width: 100%;
  padding-bottom: 10px;}
.reviews-grid {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 20px;
  margin-bottom: 20px;
  transition: transform 0.3s ease-in-out;
}



.review-card {
  background: white;
  border-radius: 10px;
  padding: 15px;
  width: 300px;
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
}

.review-img, .review-video {
  width: 100%;
  border-radius: 10px;
  margin-bottom: 10px;
  height: auto;
}

.stars {
  font-size: 18px;
  color: #ffa500;
}

.review-text {
  font-size: 16px;
  margin: 10px 0;
}

.review-meta {
  font-size: 14px;
  color: #555;
}

.view-product {
  display: inline-block;
  margin-top: 10px;
  color: #0077cc;
  text-decoration: none;
}

.carousel-btn {
  display: none; 
}

.reviews-section .carousel {
  height: auto !important;
  overflow: visible !important;
}
.write-review-btn {
  margin-top: 20px;
  padding: 10px 20px;
  background-color: #111;
  color: white;
  border: none;
  cursor: pointer;
  border-radius: 5px;
}

/* Modal styles */

.modal-content {
  background: white;
  padding: 20px;
  width: 300px;
  border-radius: 8px;
  position: relative;
  
 
}

.modal-content input,
.modal-content textarea,
.modal-content select {
  width: 100%;
  margin: 10px 0;
  padding: 8px;
  border-radius: 4px;
  border: 1px solid #ccc;
}

.modal-content button {
  padding: 10px;
  width: 100%;
  background-color: #111;
  color: white;
  border: none;
  cursor: pointer;
}

.close {
  position: absolute;
  top: 10px; right: 15px;
  font-size: 20px;
  cursor: pointer;

}

.delete-btn {
  margin-top: 10px;
  padding: 6px 12px;
  background-color: gray;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}
@media (max-width: 600px) {
  
  .reviews-section { padding: 20px; }

  .reviews-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    margin-bottom: 20px;
    justify-content: center;
  }

  
  .review-card {
    flex: 0 1 calc(50% - 12px);
    width: calc(50% - 12px);
    background: white;
    border-radius: 10px;
    padding: 10px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
  }

  .carousel-btn { display: none; }
}


  </style>
 </head>

 <body>
  <nav>
    <div class="first">
      <button class="menu-toggle" id="menu-toggle">&#9776;</button>
      <div class="title-and-links">
        <h1 class="cosmetics">Cosmetics</h1>
        <ul class="lin" id="desktop-nav">
          <li><a href="index.html">Home</a></li>
          <li><a href="about us.html">About Us</a></li>
          <li><a href="reviews.html">Reviews</a></li>
          <li><a href="Contact us.html">Contact Us</a></li>
        </ul>
        <div class="ion">
        <div class="input-box">
           <a href="login.html">
            <ion-icon name="person-outline"></ion-icon>
          </a>
  
    </div>
    
    </div>
      </div>
    </div>

    <!-- Mobile fullscreen nav -->
    <div class="nav-overlay" id="nav-overlay">
      
      <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
         <li><a href="about us.html">About Us</a></li>
        <li><a href="reviews.html">Reviews</a></li>
        <li><a href="Contact us.html">Contact Us</a></li>
      </ul>
      <div class="bottom-icons">
        <a href="login.html">ðŸ‘¤ Log in</a>
        <div class="socials">
          <a href="#"></a>
          <a href="#"></a>
        </div>
      </div>
    </div>
  </nav>
</header>

<main>

    <section class="reviews-section">
  <h2>Reviews</h2>
  <div class="rating-summary">
    <span>4.7 â˜…â˜…â˜…â˜…â˜…</span> <span>(70 reviews)</span>
  </div>

  <div class="carousel-wrapper">
    <div class="carousel">
      <div class="reviews-grid" id="reviewsGrid">

    <!-- Review Card 1 -->
    <div class="review-card">
      <img src="img11.webp" alt="Rare Beauty" class="review-img">
      <div class="review-content">
        <div class="stars">â˜…â˜…â˜…â˜…â˜…</div>
        <p class="review-text">This blush is stunning! Super blendable and natural looking.</p>
        <p class="review-meta">â€” Layal M. â€¢ Beirut, Lebanon â€¢ 2 months ago</p>
        <a href="rare beauty.html" class="view-product">View product</a>
      </div>
    </div>

    <!-- Review Card 2 -->
    <div class="review-card">
      <img src="img26.avif" alt="Fenty Beauty" class="review-img">
      <div class="review-content">
        <div class="stars">â˜…â˜…â˜…â˜…â˜†</div>
        <p class="review-text">Love the gloss! Itâ€™s hydrating and smells amazing.</p>
        <p class="review-meta">â€” Nour G. â€¢ Saida, Lebanon â€¢ 1 month ago</p>
        <a href="Fenty beauty.html" class="view-product">View product</a>
      </div>
    </div>

    <!-- Review Card 3 -->
    <div class="review-card">
     <img src="img18.webp" alt="Fenty Beauty" class="review-img">
      <div class="review-content">
        <div class="stars">â˜…â˜…â˜…â˜…â˜…</div>
        <p class="review-text">Rhode gives me that perfect sun-kissed glow. I use it every day!</p>
        <p class="review-meta">â€” Jana H. â€¢ Tripoli, Lebanon â€¢ 3 weeks ago</p>
        <a href="rhode.html" class="view-product">View product</a>
      </div>
    </div>

    <div class="review-card">
  <img src="img14.webp" alt="Pixi Beauty" class="review-img">
  <div class="review-content">
    <div class="stars">â˜…â˜…â˜…â˜…â˜†</div>
    <p class="review-text">Very lightweight blush! Gives a soft pink glow, but doesnâ€™t last all day.</p>
    <p class="review-meta">â€” Mira S. â€¢ Jounieh, Lebanon â€¢ 5 weeks ago</p>
    <a href="Pixi.html" class="view-product">View product</a>
  </div>
</div>

<!-- Review Card 5 -->
<div class="review-card">
  <img src="img25.webp" alt="Maybelline Lipstick" class="review-img">
  <div class="review-content">
    <div class="stars">â˜…â˜…â˜…â˜…â˜…</div>
    <p class="review-text">This lipstick is my go-to. Bold color and it doesnâ€™t smudge. Highly recommend!</p>
    <p class="review-meta">â€” Leila A. â€¢ Zahle, Lebanon â€¢ 3 weeks ago</p>
    <a href="maybelline.html" class="view-product">View product</a>
  </div>
</div>

<div class="review-card">
  <img src="img17.avif" alt="Milk Blush" class="review-img">
  <div class="review-content">
    <div class="stars">â˜…â˜…â˜…â˜…â˜†</div>
    <p class="review-text">Creamy and super easy to blend! Great for a dewy finish but fades a bit fast.</p>
    <p class="review-meta">â€” Rita K. â€¢ Baabda, Lebanon â€¢ 1 month ago</p>
    <a href="milk.html" class="view-product">View product</a>
  </div>
</div>

<!-- Review Card 7 -->
<div class="review-card">
  <img src="img22.jpg" alt="Dior Lipstick" class="review-img">
  <div class="review-content">
    <div class="stars">â˜…â˜…â˜…â˜…â˜…</div>
    <p class="review-text">Luxurious feel and long-lasting color! Totally worth the price.</p>
    <p class="review-meta">â€” Sarah D. â€¢ Achrafieh, Lebanon â€¢ 2 months ago</p>
    <a href="dior.html" class="view-product">View product</a>
  </div>
</div>

      </div>
    </div>

    <button class="write-review-btn" id="openModal">Write a review</button>
  </section>

  <div id="reviewModal" class="modal">
      <div class="modal-content">
        <span id="closeModal" class="close">&times;</span>
        <h2>Write a Review</h2>
       <form id="reviewForm">
  <label for="name">Name:</label>
  <input type="text" name="name" required>

  <label for="product">Product:</label>
  <select name="product" required>
  <option value="rare beauty">Rare Beauty</option>
  <option value="revlon">Revlon</option>
  <option value="blush & go">Blush & Go</option>
  <option value="pixi beauty">Pixi Beauty</option>
  <option value="forever52">Forever52</option>
  <option value="milk">Milk</option>
  <option value="rhode">Rhode</option>
  <option value="fenty beauty lip bomb">Fenty Beauty Lip Bomb</option>
  <option value="maybelline">Maybelline</option>
  <option value="elf">Elf</option>
  <option value="standard">Standard</option>
  <option value="dior">Dior</option>
  <option value="yse">Yse</option>
  <option value="powderflowerblush">PowderFlowerBlush</option>
</select>
  <label for="location">Location:</label>
  <input type="text" name="location" required>

  <label for="rating">Rating:</label>
  <select name="rating" required>
    <option value="5">â˜…â˜…â˜…â˜…â˜…</option>
    <option value="4">â˜…â˜…â˜…â˜…</option>
    <option value="3">â˜…â˜…â˜…</option>
    <option value="2">â˜…â˜…</option>
    <option value="1">â˜…</option>
  </select>

  <label for="comment">Comment:</label>
  <textarea name="comment" required></textarea>

  <button type="submit">Submit Review</button>
</form>

      </div>
    </div>



</main>

<footer class="footer">
  <div class="subscribe">
    <h1>Subscribe to our emails</h1>
    <h3>Be the first to know about new collections and stay updated!</h3>
    <form class="email-form">
      <input type="email" placeholder="Email" required />
      <button type="submit">â†’</button>
    </form>
    <div class="social-icons">
      <a href="#"><i class="fab fa-instagram"></i></a>
      <a href="#"><i class="fab fa-tiktok"></i></a>
    </div>
  </div>
  <div class="footer-bottom">
    <hr >
    <p>copyright from googleÂ· 
      <a href="#">Refund policy</a> Â· 
      <a href="#">Privacy policy</a> Â· 
      <a href="#">Terms of service</a> Â· 
      <a href="#">Contact information</a>
    </p>
  </div>
  
</footer>

<script src="home.js"></script>
<script>

   const productImages = {
  "rare beauty": "img11.webp",
  "revlon": "img12.jpg",
  "blush & go": "img13.avif",
  "pixi beauty": "img14.webp",
  "forever52": "img15.webp",
  "milk": "img17.avif",
  "rhode": "img18.webp",
  "fenty beauty lip bomb": "img26.avif",
  "maybelline": "img25.webp",
  "elf": "img23.avif",
  "standard": "img20.webp",
  "dior": "img22.jpg",
  "yse": "img24.webp",
  "powderflowerblush":"img9.jpg"
};

// Make reviewsGrid accessible to load reviews from storage
const reviewsGrid = document.getElementById('reviewsGrid');

  // Modal
document.addEventListener('DOMContentLoaded', () => {
  const modal = document.getElementById('reviewModal');
  const openBtn = document.getElementById('openModal');
  const closeBtn = document.getElementById('closeModal');
  const form = document.getElementById('reviewForm');

  // Open modal
  if (openBtn) {
    openBtn.onclick = () => {
      modal.style.display = 'flex';
    };
  }

  // Close modal
  if (closeBtn) {
    closeBtn.onclick = () => {
      modal.style.display = 'none';
    };
  }

  // Close if clicking outside content
  window.onclick = (event) => {
    if (event.target === modal) {
      modal.style.display = 'none';
    }
  };

  // Handle form submission
  if (form) {
  form.onsubmit = (e) => {
  e.preventDefault();
  const formData = new FormData(form);

  const name = formData.get('name');
  const product = formData.get('product');   // âœ… fetch product
  const location = formData.get('location'); // âœ… fetch location
  const rating = parseInt(formData.get('rating'), 10);
  const comment = formData.get('comment');
  const time = "just now";

  const newReview = { name, location, product, message: comment, rating, time };

  const existingReviews = JSON.parse(localStorage.getItem("makeupReviews")) || [];
  existingReviews.push(newReview);
  localStorage.setItem("makeupReviews", JSON.stringify(existingReviews));

  const card = createReviewCard(newReview);
  const reviewsGrid = document.getElementById('reviewsGrid');
  reviewsGrid.appendChild(card);

  modal.style.display = 'none';
  form.reset();
};


  }
});

function createReviewCard({ name, location, product, message, rating, time }) {
  const stars = 'â˜…â˜…â˜…â˜…â˜…'.slice(0, rating) + 'â˜†â˜†â˜†â˜†â˜†'.slice(0, 5 - rating);
  const key = product.toLowerCase().trim();
  const imgSrc = productImages[key] || "placeholder.jpg";
  console.log("Product key:", key, "Image src:", imgSrc);

  // Create card element
  const card = document.createElement('div');
  card.className = 'review-card';

  // Generate a unique ID (used to delete this review)
  const reviewId = `${name}-${product}-${time}`.replace(/\s+/g, '-').toLowerCase();
  card.dataset.reviewId = reviewId;

  card.innerHTML = `
    <img src="${imgSrc}" alt="${product}" class="review-img">
    <div class="review-content">
      <div class="stars">${stars}</div>
      <p class="review-text">${message}</p>
      <p class="review-meta">â€” ${name} â€¢ ${location} â€¢ ${time}</p>
      <a href="#" class="view-product">View product</a>
      <button class="delete-btn">Delete</button>
    </div>
  `;

  // Add delete handler
  card.querySelector('.delete-btn').addEventListener('click', () => {
    deleteReview(reviewId);
  });

  return card;
}



function loadReviewsFromStorage() {
  const saved = localStorage.getItem("makeupReviews");
  if (!saved) return;

  const reviews = JSON.parse(saved);
  reviews.forEach(review => {
    const card = createReviewCard(review);
    reviewsGrid.appendChild(card);
  });
}
loadReviewsFromStorage();

function deleteReview(id) {
  // 1. Remove from DOM
  const card = document.querySelector(`[data-review-id="${id}"]`);
  if (card) card.remove();

  // 2. Remove from localStorage
  let reviews = JSON.parse(localStorage.getItem("makeupReviews")) || [];
  reviews = reviews.filter(r => {
    const reviewId = `${r.name}-${r.product}-${r.time}`.replace(/\s+/g, '-').toLowerCase();
    return reviewId !== id;
  });

  localStorage.setItem("makeupReviews", JSON.stringify(reviews));
}


</script>
 </body>
</html>
